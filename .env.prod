# ============================================================
# Yii3 + RoadRunner Docker Compose 生产环境配置
# ============================================================

# ============================================================
# 应用配置
# ============================================================
# 应用环境: production, development, testing
APP_ENV=production

# 是否启用调试模式 (建议生产环境关闭)
APP_DEBUG=false

# 应用 HTTP 端口 (映射到宿主机)
APP_HTTP_PORT=8080

# ============================================================
# PostgreSQL 数据库配置
# ============================================================
# 数据库镜像版本
POSTGRES_IMAGE=postgres:15-alpine

# 数据库服务主机 (容器内部使用)
DB_HOST=postgres

# 数据库端口 (映射到宿主机)
DB_PORT=5432

# 数据库名称
DB_NAME=yii3

# 数据库用户名
DB_USER=yii3

# 数据库密码 (必须设置强密码)
DB_PASSWORD=your_strong_database_password_here

# ============================================================
# Redis 缓存配置
# ============================================================
# Redis 镜像版本
REDIS_IMAGE=redis:7-alpine

# Redis 服务主机 (容器内部使用)
REDIS_HOST=redis

# Redis 端口 (映射到宿主机)
REDIS_PORT=6379

# Redis 密码 (留空表示不设置密码)
# 注意: 生产环境建议设置密码
REDIS_PASSWORD=

# Redis 数据库编号 (0-15)
REDIS_DB=0

# ============================================================
# MinIO 对象存储配置
# ============================================================
# MinIO 镜像版本
MINIO_IMAGE=minio/minio:latest

# MinIO 服务端点 (容器内部使用)
MINIO_ENDPOINT=minio:9000

# MinIO 访问密钥 (管理员用户名)
# 默认: minioadmin
# 生产环境请务必修改为强密码
MINIO_ACCESS_KEY=minioadmin

# MinIO 密钥 (管理员密码)
# 默认: minioadmin
# 生产环境请务必修改为强密码
MINIO_SECRET_KEY=minioadmin

# MinIO API 端口 (映射到宿主机)
MINIO_API_PORT=9000

# MinIO Web 控制台端口 (映射到宿主机)
MINIO_CONSOLE_PORT=9001

# MinIO 存储桶名称 (自动创建)
MINIO_BUCKET=yii3-uploads

# 是否使用 SSL 连接 MinIO
MINIO_USE_SSL=false

# ============================================================
# NATS 消息队列配置
# ============================================================
# NATS 镜像版本
NATS_IMAGE=nats:2.10-alpine

# NATS 连接地址 (容器内部使用)
NATS_URL=nats://nats:4222

# NATS 端口配置 (映射到宿主机)
NATS_PORT=4222
NATS_MONITORING_PORT=8222
NATS_WEBSOCKET_PORT=6222

# NATS JetStream Stream 名称
NATS_STREAM_NAME=yii3-stream

# NATS JetStream Consumer 名称
NATS_CONSUMER_NAME=yii3-consumer
